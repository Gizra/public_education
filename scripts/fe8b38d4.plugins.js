!function(){"use strict";function a(a){return angular.isDefined(a)}function b(a){return angular.isDefined(a)&&null!==a}function c(a){return angular.isNumber(a)}function d(a){return angular.isString(a)}function e(a){return angular.isArray(a)}function f(a,b){var c=a.$root.$$phase;"$apply"===c||"$digest"===c?a.$eval(b):a.$apply(b)}function g(b){var c=h();return a(b)&&(c.maxZoom=a(b.maxZoom)?parseInt(b.maxZoom,10):c.maxZoom,c.minZoom=a(b.minZoom)?parseInt(b.minZoom,10):c.minZoom,c.doubleClickZoom=a(b.doubleClickZoom)?b.doubleClickZoom:c.doubleClickZoom,c.scrollWheelZoom=a(b.scrollWheelZoom)?b.scrollWheelZoom:c.doubleClickZoom,c.zoomControl=a(b.zoomControl)?b.zoomControl:c.zoomControl,c.attributionControl=a(b.attributionControl)?b.attributionControl:c.attributionControl,c.tileLayer=a(b.tileLayer)?b.tileLayer:c.tileLayer,c.zoomControlPosition=a(b.zoomControlPosition)?b.zoomControlPosition:c.zoomControlPosition,c.keyboard=a(b.keyboard)?b.keyboard:c.keyboard,c.dragging=a(b.dragging)?b.dragging:c.dragging,a(b.tileLayerOptions)&&angular.copy(b.tileLayerOptions,c.tileLayerOptions)),c}function h(){return{maxZoom:14,minZoom:1,keyboard:!0,dragging:!0,doubleClickZoom:!0,scrollWheelZoom:!0,zoomControl:!0,attributionControl:!0,zoomsliderControl:!1,zoomControlPosition:"topleft",controlLayersPosition:"topright",tileLayer:"http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",tileLayerOptions:{attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'},icon:{url:"http://cdn.leafletjs.com/leaflet-0.6.4/images/marker-icon.png",retinaUrl:"http://cdn.leafletjs.com/leaflet-0.6.4/images/marker-icon-2x.png",size:[25,41],anchor:[12,40],labelAnchor:[10,-20],popup:[0,-40],shadow:{url:"http://cdn.leafletjs.com/leaflet-0.6.4/images/marker-shadow.png",retinaUrl:"http://cdn.leafletjs.com/leaflet-0.6.4/images/marker-shadow.png",size:[41,41],anchor:[12,40]}},path:{weight:10,opacity:1,color:"#0000ff"},center:{lat:0,lng:0,zoom:1}}}var i={AwesomeMarkersPlugin:{isLoaded:function(){return void 0!==L.AwesomeMarkers?void 0!==L.AwesomeMarkers.Icon:!1},is:function(a){return this.isLoaded()?a instanceof L.AwesomeMarkers.Icon:!1},equal:function(a,b){return this.isLoaded?this.is(a)&&this.is(b)?a.options.icon===b.options.icon&&a.options.iconColor===b.options.iconColor&&a.options.color===b.options.color&&a.options.iconSize[0]===b.options.iconSize[0]&&a.options.iconSize[1]===b.options.iconSize[1]&&a.options.iconAnchor[0]===b.options.iconAnchor[0]&&a.options.iconAnchor[1]===b.options.iconAnchor[1]&&a.options.popupAnchor[0]===b.options.popupAnchor[0]&&a.options.popupAnchor[1]===b.options.popupAnchor[1]&&a.options.shadowAnchor[0]===b.options.shadowAnchor[0]&&a.options.shadowAnchor[1]===b.options.shadowAnchor[1]&&a.options.shadowSize[0]===b.options.shadowSize[0]&&a.options.shadowSize[1]===b.options.shadowSize[1]:!1:!1}},MarkerClusterPlugin:{isLoaded:function(){return void 0!==L.MarkerClusterGroup},is:function(a){return this.isLoaded()?a instanceof L.MarkerClusterGroup:!1}},GoogleLayerPlugin:{isLoaded:function(){return void 0!==L.Google},is:function(a){return this.isLoaded()?a instanceof L.Google:!1}},BingLayerPlugin:{isLoaded:function(){return void 0!==L.BingLayer},is:function(a){return this.isLoaded()?a instanceof L.BingLayer:!1}},Leaflet:{DivIcon:{is:function(a){return a instanceof L.DivIcon},equal:function(a,b){return this.is(a)&&this.is(b)?a.options.html===b.options.html&&a.options.iconSize[0]===b.options.iconSize[0]&&a.options.iconSize[1]===b.options.iconSize[1]&&a.options.iconAnchor[0]===b.options.iconAnchor[0]&&a.options.iconAnchor[1]===b.options.iconAnchor[1]:!1}},Icon:{is:function(a){return a instanceof L.Icon},equal:function(a,b){return this.is(a)&&this.is(b)?a.options.iconUrl===b.options.iconUrl&&a.options.iconRetinaUrl===b.options.iconRetinaUrl&&a.options.iconSize[0]===b.options.iconSize[0]&&a.options.iconSize[1]===b.options.iconSize[1]&&a.options.iconAnchor[0]===b.options.iconAnchor[0]&&a.options.iconAnchor[1]===b.options.iconAnchor[1]&&a.options.shadowUrl===b.options.shadowUrl&&a.options.shadowRetinaUrl===b.options.shadowRetinaUrl&&a.options.shadowSize[0]===b.options.shadowSize[0]&&a.options.shadowSize[1]===b.options.shadowSize[1]&&a.options.shadowAnchor[0]===b.options.shadowAnchor[0]&&a.options.shadowAnchor[1]===b.options.shadowAnchor[1]&&a.options.popupAnchor[0]===b.options.popupAnchor[0]&&a.options.popupAnchor[1]===b.options.popupAnchor[1]:!1}}}};angular.module("leaflet-directive",[]).directive("leaflet",["$log","$q","leafletData",function(b,c,d){return{restrict:"E",replace:!0,transclude:!0,scope:{center:"=center",defaults:"=defaults",maxBounds:"=maxbounds",bounds:"=bounds",marker:"=marker",markers:"=markers",legend:"=legend",geojson:"=geojson",paths:"=paths",tiles:"=tiles",layers:"=layers",controls:"=controls",eventBroadcast:"=eventBroadcast"},template:'<div class="angular-leaflet-map" ng-transclude></div>',controller:["$scope",function(a){a.leafletMap=c.defer(),this.getMap=function(){return a.leafletMap.promise}}],link:function(c,e,f){var h=g(c.defaults);d.setDefaults(h),a(c.maxBounds)&&(h.minZoom=void 0),a(f.width)&&(isNaN(f.width)?e.css("width",f.width):e.css("width",f.width+"px")),a(f.height)&&(isNaN(f.height)?e.css("height",f.height):e.css("height",f.height+"px")),a(f.marker)&&b.warn("[AngularJS - Leaflet] The 'marker' property is currently deprecated, please use the 'markers' property instead.");var i=new L.Map(e[0],{maxZoom:h.maxZoom,minZoom:h.minZoom,keyboard:h.keyboard,dragging:h.dragging,zoomControl:h.zoomControl,doubleClickZoom:h.doubleClickZoom,scrollWheelZoom:h.scrollWheelZoom,attributionControl:h.attributionControl});if(c.leafletMap.resolve(i),d.setMap(i,f.id),a(f.center)||(b.warn("[AngularJS - Leaflet] 'center' is undefined in the current scope, did you forget to initialize it?"),i.setView([h.center.lat,h.center.lng],h.center.zoom)),!a(f.tiles)&&!a(f.layers)){var j=L.tileLayer(h.tileLayer,h.tileLayerOptions);j.addTo(i),d.setTiles(j)}a(i.zoomControl)&&a(h.zoomControlPosition)&&i.zoomControl.setPosition(h.zoomControlPosition)}}}]),angular.module("leaflet-directive").directive("center",["$log","$parse",function(b,d){return{restrict:"A",scope:!1,replace:!1,transclude:!1,require:"leaflet",link:function(e,h,i,j){var k=g(e.defaults),l=e.center,m=e.bounds;j.getMap().then(function(g){function h(a){if(m){var b=a.getBounds(),c=b.getSouthWest(),d=b.getNorthEast();m={southWest:{lat:c.lat,lng:c.lng},northEast:{lat:d.lat,lng:d.lng}}}}function i(a,b){a.setView([b.lat,b.lng],b.zoom),h(a)}function j(b){return a(b)&&c(b.lat)&&c(b.lng)&&c(b.zoom)}if(a(l)){l.autoDiscover===!0&&g.locate({setView:!0,maxZoom:k.maxZoom});var n={lat:d("center.lat"),lng:d("center.lng"),zoom:d("center.zoom")}}else g.setView([k.center.lat,k.center.lng],k.center.zoom),b.warn("[AngularJS - Leaflet] 'center' is undefined in the current scope, did you forget to initialize it?");var o=!1;e.$watch("center",function(a){return j(a)?(o||i(g,a),void 0):(b.warn("[AngularJS - Leaflet] invalid 'center'"),i(g,k.center),void 0)},!0),g.on("movestart",function(){o=!0}),g.on("moveend",function(){o=!1,f(e,function(a){n&&(n.lat.assign(a,g.getCenter().lat),n.lng.assign(a,g.getCenter().lng),n.zoom.assign(a,g.getZoom())),a.$emit("centerUpdated")})})})}}}]),angular.module("leaflet-directive").directive("tiles",["$log","leafletData",function(a,b){return{restrict:"A",scope:!1,replace:!1,transclude:!1,require:"leaflet",link:function(c,d,e,f){var h=g(c.defaults),i=c.tiles;f.getMap().then(function(d){var f,g=h.tileLayer,j=h.tileLayerOptions;angular.isDefined(i)&&angular.isDefined(i.url)?(g=i.url,c.$watch("tiles.url",function(a){angular.isDefined(a)&&f.setUrl(a)})):a.warn("[AngularJS - Leaflet] The 'tiles' definition doesn't have the 'url' property."),angular.isDefined(i)&&angular.isDefined(i.options)&&angular.copy(i.options,j),f=L.tileLayer(g,j),f.addTo(d),b.setTiles(f,e.id)})}}}]),angular.module("leaflet-directive").directive("legend",["$log",function(a){return{restrict:"A",scope:!1,replace:!1,transclude:!1,require:"leaflet",link:function(b,c,d,f){f.getMap().then(function(c){var d=b.legend;if(e(d.colors)&&e(d.labels)&&d.colors.length===d.labels.length){var f=d.legendClass?d.legendClass:"legend",g=d.position||"bottomright",h=L.control({position:g});h.onAdd=function(){for(var a=L.DomUtil.create("div",f),b=0;b<d.colors.length;b++)a.innerHTML+='<div><i style="background:'+d.colors[b]+'"></i>'+d.labels[b]+"</div>";return a},h.addTo(c)}else a.warn("[AngularJS - Leaflet] legend.colors and legend.labels must be set.")})}}}]),angular.module("leaflet-directive").directive("geojson",["$log","$rootScope",function(b,c){return{restrict:"A",scope:!1,replace:!1,transclude:!1,require:"leaflet",link:function(b,d,e,g){g.getMap();var h;g.getMap().then(function(d){b.$watch("geojson",function(e){if(a(e)&&(a(h)&&d.removeLayer(h),a(e.data))){var g=e.resetStyleOnMouseout;h=L.geoJson(e.data,{style:e.style,onEachFeature:function(a,d){d.on({mouseover:function(d){f(b,function(){e.selected=a,c.$broadcast("leafletDirectiveMap.geojsonMouseover",d)})},mouseout:function(a){g&&h.resetStyle(a.target),f(b,function(){e.selected=void 0,c.$broadcast("leafletDirectiveMap.geojsonMouseout",a)})},click:function(a){f(b,function(){c.$broadcast("leafletDirectiveMap.geojsonClick",e.selected,a)})}})}}).addTo(d)}})})}}}]),angular.module("leaflet-directive").directive("layers",["$log","leafletData",function(b,c){return{restrict:"A",scope:!1,replace:!1,transclude:!1,require:"leaflet",controller:["$scope",function(a){this.getLayers=function(){return a.leafletLayers}}],link:function(e,f,h,j){var k=g(e.defaults),l=e.layers;j.getMap().then(function(f){function g(d,f,g){if(a(f)){if(!a(f.baselayers)||Object.keys(e.layers.baselayers).length<=0)return b.error("[AngularJS - Leaflet] At least one baselayer has to be defined"),void 0;e.leafletLayers={},c.setLayers(e.leafletLayers,h.id),e.leafletLayers.baselayers={},e.leafletLayers.controls={},e.leafletLayers.controls.layers=new L.control.layers,e.leafletLayers.controls.layers.setPosition(g.controlLayersPosition),e.leafletLayers.controls.layers.addTo(d);var i=!1;for(var k in f.baselayers){var l=j(f.baselayers[k]);null!==l&&(e.leafletLayers.baselayers[k]=l,f.baselayers[k].top===!0&&(d.addLayer(e.leafletLayers.baselayers[k]),i=!0),e.leafletLayers.controls.layers.addBaseLayer(e.leafletLayers.baselayers[k],f.baselayers[k].name))}!i&&Object.keys(e.leafletLayers.baselayers).length>0&&d.addLayer(e.leafletLayers.baselayers[Object.keys(f.baselayers)[0]]),e.leafletLayers.overlays={};for(k in f.overlays){var m=j(f.overlays[k]);null!==m&&(e.leafletLayers.overlays[k]=m,f.overlays[k].visible===!0&&d.addLayer(e.leafletLayers.overlays[k]),e.leafletLayers.controls.layers.addOverlay(e.leafletLayers.overlays[k],f.overlays[k].name))}e.$watch("layers.baselayers",function(a){for(var c in e.leafletLayers.baselayers)void 0===a[c]&&(e.leafletLayers.controls.layers.removeLayer(e.leafletLayers.baselayers[c]),d.hasLayer(e.leafletLayers.baselayers[c])&&d.removeLayer(e.leafletLayers.baselayers[c]),delete e.leafletLayers.baselayers[c]);for(var g in a)if(void 0===e.leafletLayers.baselayers[g]){var h=j(a[g]);null!==h&&(e.leafletLayers.baselayers[g]=h,a[g].top===!0&&d.addLayer(e.leafletLayers.baselayers[g]),e.leafletLayers.controls.layers.addBaseLayer(e.leafletLayers.baselayers[g],a[g].name))}if(Object.keys(e.leafletLayers.baselayers).length<=0)b.error("[AngularJS - Leaflet] At least one baselayer has to be defined");else{var i=!1;for(var k in e.leafletLayers.baselayers)if(d.hasLayer(e.leafletLayers.baselayers[k])){i=!0;break}i||d.addLayer(e.leafletLayers.baselayers[Object.keys(f.baselayers)[0]])}},!0),e.$watch("layers.overlays",function(a){for(var b in e.leafletLayers.overlays)void 0===a[b]&&(e.leafletLayers.controls.layers.removeLayer(e.leafletLayers.overlays[b]),d.hasLayer(e.leafletLayers.overlays[b])&&d.removeLayer(e.leafletLayers.overlays[b]),delete e.leafletLayers.overlays[b]);for(var c in a)if(void 0===e.leafletLayers.overlays[c]){var f=j(a[c]);null!==f&&(e.leafletLayers.overlays[c]=f,e.leafletLayers.controls.layers.addOverlay(e.leafletLayers.overlays[c],a[c].name),a[c].visible===!0&&d.addLayer(e.leafletLayers.overlays[c]))}},!0)}}function j(a){if(!d(a.type))return b.error("[AngularJS - Leaflet] A base layer must have a type"),null;if("xyz"!==a.type&&"wms"!==a.type&&"group"!==a.type&&"markercluster"!==a.type&&"google"!==a.type&&"bing"!==a.type)return b.error('[AngularJS - Leaflet] A layer must have a valid type: "xyz, wms, group, google"'),null;if(("xyz"===a.type||"wms"===a.type)&&!d(a.url))return b.error("[AngularJS - Leaflet] A base layer must have an url"),null;if(!d(a.name))return b.error("[AngularJS - Leaflet] A base layer must have a name"),null;(void 0===a.layerParams||null===a.layerParams||"object"!=typeof a.layerParams)&&(a.layerParams={}),(void 0===a.layerOptions||null===a.layerOptions||"object"!=typeof a.layerOptions)&&(a.layerOptions={});var c=null;for(var e in a.layerParams)a.layerOptions[e]=a.layerParams[e];switch(a.type){case"xyz":c=m(a.url,a.layerOptions);break;case"wms":c=n(a.url,a.layerOptions);break;case"group":c=o();break;case"markercluster":c=p(a.layerOptions);break;case"google":c=q(a.layerType,a.layerOptions);break;case"bing":c=r(a.bingKey,a.layerOptions);break;default:c=null}return c}function m(a,b){var c=L.tileLayer(a,b);return c}function n(a,b){var c=L.tileLayer.wms(a,b);return c}function o(){var a=L.layerGroup();return a}function p(a){if(i.MarkerClusterPlugin.isLoaded()){var b=new L.MarkerClusterGroup(a);return b}return null}function q(a,b){if(a=a||"SATELLITE",i.GoogleLayerPlugin.isLoaded()){var c=new L.Google(a,b);return c}return null}function r(a,b){if(i.BingLayerPlugin.isLoaded()){var c=new L.BingLayer(a,b);return c}return null}g(f,l,k)})}}}]),angular.module("leaflet-directive").directive("bounds",["$log",function(b){return{restrict:"A",scope:!1,replace:!1,transclude:!1,require:"leaflet",link:function(d,e,f,g){g.getMap().then(function(e){function f(b){return a(b)&&a(b.southWest)&&a(b.northEast)&&c(b.southWest.lat)&&c(b.southWest.lng)&&c(b.northEast.lat)&&c(b.northEast.lng)}function g(c){d.$watch("bounds",function(d){if(!a(d)||!f(d))return b.error("[AngularJS - Leaflet] Invalid bounds"),void 0;var e=d.southWest,g=d.northEast,h=new L.LatLngBounds(new L.LatLng(e.lat,e.lng),new L.LatLng(g.lat,g.lng));c.getBounds().equals(h)||c.fitBounds(h)},!0)}g(e)})}}}]),angular.module("leaflet-directive").directive("markers",["$log","$rootScope","leafletData",function(e,h,j){return{restrict:"A",scope:!1,replace:!1,transclude:!1,require:["leaflet","?layers"],link:function(k,l,m,n){var o=g(k.defaults),p=n[0];p.getMap().then(function(g){function l(g,j,l){function m(a,b){return function(c){var d="leafletDirectiveMarker."+a,e=g.replace("markers.","");"click"===a?f(k,function(){h.$broadcast("leafletDirectiveMarkersClick",e)}):"dragend"===a&&(f(k,function(){j.lat=n.getLatLng().lat,j.lng=n.getLatLng().lng}),j.message&&j.focus===!0&&n.openPopup()),f(k,function(a){"emit"===b?a.$emit(d,{markerName:e,leafletEvent:c}):h.$broadcast(d,{markerName:e,leafletEvent:c})})}}var n=p(j);if(a(j.layer)){if(!d(j.layer))return e.error("[AngularJS - Leaflet] A layername must be a string"),null;var o=r();if(!b(o))return e.error("[AngularJS - Leaflet] You must add layers to the directive if used in a marker"),null;if(!b(o.overlays))return e.error("[AngularJS - Leaflet] You must add layers overlays to the directive if used in a marker"),null;if(!b(o.overlays[j.layer]))return e.error("[AngularJS - Leaflet] You must use a name of an existing layer"),null;var q=o.overlays[j.layer];if(!(q instanceof L.LayerGroup))return e.error('[AngularJS - Leaflet] A marker can only be added to a layer of type "group"'),null;q.addLayer(n),l.hasLayer(n)&&j.focus===!0&&n.openPopup()}else l.addLayer(n),a(L.Label)&&a(j.label)&&a(j.label.options)&&j.label.options.noHide===!0&&n.showLabel(),j.focus===!0&&n.openPopup();var t,u,v=["click","dblclick","mousedown","mouseover","mouseout","contextmenu","dragstart","drag","dragend","move","remove","popupopen","popupclose"],w=[],x="broadcast";if(void 0===k.eventBroadcast||null===k.eventBroadcast)w=v;else if("object"!=typeof k.eventBroadcast)e.warn("[AngularJS - Leaflet] event-broadcast must be an object check your model.");else if(void 0===k.eventBroadcast.marker||null===k.eventBroadcast.marker)w=v;else if("object"!=typeof k.eventBroadcast.marker)e.warn("[AngularJS - Leaflet] event-broadcast.marker must be an object check your model.");else{void 0!==k.eventBroadcast.marker.logic&&null!==k.eventBroadcast.marker.logic&&("emit"!==k.eventBroadcast.marker.logic&&"broadcast"!==k.eventBroadcast.marker.logic?e.warn("[AngularJS - Leaflet] Available event propagation logic are: 'emit' or 'broadcast'."):"emit"===k.eventBroadcast.marker.logic&&(x="emit"));var y=!1,z=!1;if(void 0!==k.eventBroadcast.marker.enable&&null!==k.eventBroadcast.marker.enable&&"object"==typeof k.eventBroadcast.marker.enable&&(y=!0),void 0!==k.eventBroadcast.marker.disable&&null!==k.eventBroadcast.marker.disable&&"object"==typeof k.eventBroadcast.marker.disable&&(z=!0),y&&z)e.warn("[AngularJS - Leaflet] can not enable and disable events at the same time");else if(y||z)if(y)for(t=0;t<k.eventBroadcast.marker.enable.length;t++)u=k.eventBroadcast.marker.enable[t],-1!==w.indexOf(u)?e.warn("[AngularJS - Leaflet] This event "+u+" is already enabled"):-1===v.indexOf(u)?e.warn("[AngularJS - Leaflet] This event "+u+" does not exist"):w.push(u);else for(w=v,t=0;t<k.eventBroadcast.marker.disable.length;t++){u=k.eventBroadcast.marker.disable[t];var A=w.indexOf(u);-1===A?e.warn("[AngularJS - Leaflet] This event "+u+" does not exist or has been already disabled"):w.splice(A,1)}else e.warn("[AngularJS - Leaflet] must enable or disable events")}for(t=0;t<w.length;t++)u=w[t],n.on(u,m(u,x),{eventName:u,scope_watch_name:g});var B=k.$watch(g,function(f,g){if(!b(f)){if(n.closePopup(),b(o)&&a(o.overlays))for(var h in o.overlays)o.overlays[h]instanceof L.LayerGroup&&o.overlays[h].hasLayer(n)&&o.overlays[h].removeLayer(n);return l.removeLayer(n),B(),void 0}if(a(g)){if(d(f.layer)){if(b(g.layer)||g.layer!==f.layer)if("string"==typeof g.layer&&void 0!==o.overlays[g.layer]&&o.overlays[g.layer].hasLayer(n)&&o.overlays[g.layer].removeLayer(n),n.closePopup(),l.hasLayer(n)&&l.removeLayer(n),void 0!==o.overlays[f.layer]){var j=o.overlays[f.layer];j instanceof L.LayerGroup?(j.addLayer(n),l.hasLayer(n)&&f.focus===!0&&n.openPopup()):e.error('[AngularJS - Leaflet] A marker can only be added to a layer of type "group"')}else e.error("[AngularJS - Leaflet] You must use a name of an existing layer")}else d(g.layer)&&(a(o.overlays[g.layer])&&o.overlays[g.layer].hasLayer(n)&&(o.overlays[g.layer].removeLayer(n),n.closePopup()),l.hasLayer(n)||l.addLayer(n));if(void 0===f.draggable||null===f.draggable||f.draggable!==!0?void 0!==g.draggable&&null!==g.draggable&&g.draggable===!0&&n.dragging&&n.dragging.disable():(void 0===g.draggable||null===g.draggable||g.draggable!==!0)&&(n.dragging?n.dragging.enable():L.Handler.MarkerDrag&&(n.dragging=new L.Handler.MarkerDrag(n),n.options.draggable=!0,n.dragging.enable())),void 0===f.icon||null===f.icon||"object"!=typeof f.icon)void 0!==g.icon&&null!==g.icon&&"object"==typeof g.icon&&(n.setIcon(new s),n.closePopup(),n.unbindPopup(),void 0!==f.message&&null!==f.message&&"string"==typeof f.message&&""!==f.message&&n.bindPopup(f.message));else if(void 0===g.icon||null===g.icon||"object"!=typeof g.icon){var k=!1;n.dragging&&(k=n.dragging.enabled()),i.AwesomeMarkersPlugin.is(f.icon)?n.setIcon(f.icon):i.Leaflet.DivIcon.is(f.icon)||i.Leaflet.Icon.is(f.icon)?n.setIcon(f.icon):n.setIcon(new s(f.icon)),k&&n.dragging.enable(),n.closePopup(),n.unbindPopup(),void 0!==f.message&&null!==f.message&&"string"==typeof f.message&&""!==f.message&&n.bindPopup(f.message)}else if(i.AwesomeMarkersPlugin.is(f.icon)){if(!i.AwesomeMarkersPlugin.equal(f.icon,g.icon)){var m=!1;n.dragging&&(m=n.dragging.enabled()),n.setIcon(f.icon),m&&n.dragging.enable(),n.closePopup(),n.unbindPopup(),void 0!==f.message&&null!==f.message&&"string"==typeof f.message&&""!==f.message&&n.bindPopup(f.message)}}else if(i.Leaflet.DivIcon.is(f.icon)){if(!i.Leaflet.DivIcon.equal(f.icon,g.icon)){var p=!1;n.dragging&&(p=n.dragging.enabled()),n.setIcon(f.icon),p&&n.dragging.enable(),n.closePopup(),n.unbindPopup(),void 0!==f.message&&null!==f.message&&"string"==typeof f.message&&""!==f.message&&n.bindPopup(f.message)}}else if(i.Leaflet.Icon.is(f.icon)){if(!i.Leaflet.Icon.equal(f.icon,g.icon)){var q=!1;n.dragging&&(q=n.dragging.enabled()),n.setIcon(f.icon),q&&n.dragging.enable(),n.closePopup(),n.unbindPopup(),void 0!==f.message&&null!==f.message&&"string"==typeof f.message&&""!==f.message&&n.bindPopup(f.message)}}else if(JSON.stringify(f.icon)!==JSON.stringify(g.icon)){var r=!1;n.dragging&&(r=n.dragging.enabled()),n.setIcon(new s(f.icon)),r&&n.dragging.enable(),n.closePopup(),n.unbindPopup(),void 0!==f.message&&null!==f.message&&"string"==typeof f.message&&""!==f.message&&n.bindPopup(f.message)}if(void 0===f.message||null===f.message||"string"!=typeof f.message||""===f.message?void 0!==g.message&&null!==g.message&&"string"==typeof g.message&&""!==g.message&&(n.closePopup(),n.unbindPopup()):void 0===g.message||null===g.message||"string"!=typeof g.message||""===g.message?(n.bindPopup(f.message),f.focus===!0&&n.openPopup()):f.message!==g.message&&n.setPopupContent(f.message),void 0===f.focus||null===f.focus||f.focus!==!0?void 0!==g.focus&&null!==g.focus&&g.focus===!0&&n.closePopup():(void 0===g.focus||null===g.focus||g.focus!==!0)&&n.openPopup(),c(f.lat)&&c(f.lng)){var t=n.getLatLng();if(t.lat!==f.lat||t.lng!==f.lng){var u=!1;d(f.layer)&&i.MarkerClusterPlugin.is(o.overlays[f.layer])&&(o.overlays[f.layer].removeLayer(n),u=!0),n.setLatLng([f.lat,f.lng]),u&&o.overlays[f.layer].addLayer(n)}}else{if(e.warn("There are problems with lat-lng data, please verify your marker model"),b(o)&&b(o.overlays))for(var v in o.overlays)(o.overlays[v]instanceof L.LayerGroup||i.MarkerClusterPlugin.is(o.overlays[v]))&&o.overlays[v].hasLayer(n)&&o.overlays[v].removeLayer(n);l.removeLayer(n)}}},!0);return n}function p(b){var c=null;c=b.icon?b.icon:new s;var d={icon:c,draggable:b.draggable?!0:!1};b.title&&(d.title=b.title);var e=new L.marker(b,d);return b.message&&e.bindPopup(b.message),a(L.Label)&&a(b.label)&&a(b.label.message)&&e.bindLabel(b.label.message,b.label.options),e}var q=k.markers,r=function(){return[]};a(n[1])&&(r=n[1].getLayers);var s=L.Icon.extend({options:{iconUrl:o.icon.url,iconRetinaUrl:o.icon.retinaUrl,iconSize:o.icon.size,iconAnchor:o.icon.anchor,labelAnchor:o.icon.labelAnchor,popupAnchor:o.icon.popup,shadowUrl:o.icon.shadow.url,shadowRetinaUrl:o.icon.shadow.retinaUrl,shadowSize:o.icon.shadow.size,shadowAnchor:o.icon.shadow.anchor}}),t={};j.setMarkers(t,m.id),a(q)&&k.$watch("markers",function(c){for(var d in t)if(!a(c[d])){t[d].closePopup();var e=r();if(b(e)&&a(e.overlays))for(var f in e.overlays)e.overlays[f]instanceof L.LayerGroup&&e.overlays[f].hasLayer(t[d])&&e.overlays[f].removeLayer(t[d]);g.removeLayer(t[d]),delete t[d]}for(var h in c)if(!a(t[h])){var i=l("markers."+h,c[h],g);null!==i&&(t[h]=i)}},!0)})}}}]),angular.module("leaflet-directive").directive("paths",["$log","leafletData",function(b,c){return{restrict:"A",scope:!1,replace:!1,transclude:!1,require:"leaflet",link:function(b,d,e,f){var h=g(b.defaults),i=b.paths;f.getMap().then(function(d){function f(d,f,h){var i={};c.setPaths(i,e.id),a(d)&&b.$watch("paths",function(b){for(var c in b)a(i[c])||(i[c]=g(c,b[c],f,h));for(var d in i)a(b[d])||delete i[d]},!0)}function g(c,d,e,f){function g(b){if(a(b.latlngs))switch(b.type){default:case"polyline":case"polygon":h.setLatLngs(k(b.latlngs));break;case"multiPolyline":case"multiPolygon":h.setLatLngs(l(b.latlngs));break;case"rectangle":h.setBounds(new L.LatLngBounds(k(b.latlngs)));break;case"circle":case"circleMarker":h.setLatLng(j(b.latlngs)),a(b.radius)&&h.setRadius(b.radius)}a(b.weight)&&h.setStyle({weight:b.weight}),a(b.color)&&h.setStyle({color:b.color}),a(b.opacity)&&h.setStyle({opacity:b.opacity})}var h,i={weight:f.path.weight,color:f.path.color,opacity:f.path.opacity};switch(a(d.stroke)&&(i.stroke=d.stroke),a(d.fill)&&(i.fill=d.fill),a(d.fillColor)&&(i.fillColor=d.fillColor),a(d.fillOpacity)&&(i.fillOpacity=d.fillOpacity),a(d.smoothFactor)&&(i.smoothFactor=d.smoothFactor),a(d.noClip)&&(i.noClip=d.noClip),a(d.type)||(d.type="polyline"),d.type){default:case"polyline":h=new L.Polyline([],i);break;case"multiPolyline":h=new L.multiPolyline([[[0,0],[1,1]]],i);break;case"polygon":h=new L.Polygon([],i);break;case"multiPolygon":h=new L.MultiPolygon([[[0,0],[1,1],[0,1]]],i);break;case"rectangle":h=new L.Rectangle([[0,0],[1,1]],i);break;case"circle":h=new L.Circle([0,0],1,i);break;case"circleMarker":h=new L.CircleMarker([0,0],i)}e.addLayer(h);var m=b.$watch("paths."+c,function(b){return a(b)?(g(b),void 0):(e.removeLayer(h),m(),void 0)},!0);return h}function j(a){return new L.LatLng(a.lat,a.lng)}function k(a){return a.filter(function(a){return!!a.lat&&!!a.lng}).map(function(a){return new L.LatLng(a.lat,a.lng)})}function l(a){return a.map(function(a){return k(a)})}f(i,d,h)})}}}]),angular.module("leaflet-directive").directive("controls",["$log",function(){return{restrict:"A",scope:!1,replace:!1,transclude:!1,require:"leaflet",link:function(b,c,d,e){var f=b.controls;e.getMap().then(function(b){if(a(f.draw)){var c=new L.Control.Draw;b.addControl(c)}})}}}]),angular.module("leaflet-directive").directive("eventBroadcast",["$log","$rootScope",function(a,c){return{restrict:"A",scope:!1,replace:!1,transclude:!1,require:"leaflet",link:function(d,e,g,h){h.getMap().then(function(e){function g(a,b){return function(e){var g="leafletDirectiveMap."+a;f(d,function(a){"emit"===b?a.$emit(g,{leafletEvent:e}):"broadcast"===b&&c.$broadcast(g,{leafletEvent:e})})}}var h,i,j=["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","contextmenu","focus","blur","preclick","load","unload","viewreset","movestart","move","moveend","dragstart","drag","dragend","zoomstart","zoomend","zoomlevelschange","resize","autopanstart","layeradd","layerremove","baselayerchange","overlayadd","overlayremove","locationfound","locationerror","popupopen","popupclose"],k=[],l="broadcast";if(b(d.eventBroadcast))if("object"!=typeof d.eventBroadcast)a.warn("[AngularJS - Leaflet] event-broadcast must be an object check your model.");else if(void 0===d.eventBroadcast.map||null===d.eventBroadcast.map)k=j;else if("object"!=typeof d.eventBroadcast.map)a.warn("[AngularJS - Leaflet] event-broadcast.map must be an object check your model.");else{void 0!==d.eventBroadcast.map.logic&&null!==d.eventBroadcast.map.logic&&("emit"!==d.eventBroadcast.map.logic&&"broadcast"!==d.eventBroadcast.map.logic?a.warn("[AngularJS - Leaflet] Available event propagation logic are: 'emit' or 'broadcast'."):"emit"===d.eventBroadcast.map.logic&&(l="emit"));var m=!1,n=!1;if(void 0!==d.eventBroadcast.map.enable&&null!==d.eventBroadcast.map.enable&&"object"==typeof d.eventBroadcast.map.enable&&(m=!0),void 0!==d.eventBroadcast.map.disable&&null!==d.eventBroadcast.map.disable&&"object"==typeof d.eventBroadcast.map.disable&&(n=!0),m&&n)a.warn("[AngularJS - Leaflet] can not enable and disable events at the time");else if(m||n)if(m)for(h=0;h<d.eventBroadcast.map.enable.length;h++)i=d.eventBroadcast.map.enable[h],-1!==k.indexOf(i)?a.warn("[AngularJS - Leaflet] This event "+i+" is already enabled"):-1===j.indexOf(i)?a.warn("[AngularJS - Leaflet] This event "+i+" does not exist"):k.push(i);else for(k=j,h=0;h<d.eventBroadcast.map.disable.length;h++){i=d.eventBroadcast.map.disable[h];var o=k.indexOf(i);-1===o?a.warn("[AngularJS - Leaflet] This event "+i+" does not exist or has been already disabled"):k.splice(o,1)}else a.warn("[AngularJS - Leaflet] must enable or disable events")}else k=j;for(h=0;h<k.length;h++)i=k[h],e.on(i,g(i,l),{eventName:i})})}}}]),angular.module("leaflet-directive").directive("maxbounds",["$log",function(b){return{restrict:"A",scope:!1,replace:!1,transclude:!1,require:"leaflet",link:function(d,e,f,h){g(d.defaults),h.getMap().then(function(e){var f=d.maxBounds;a(f)&&a(f.southWest)&&a(f.northEast)?d.$watch("maxBounds",function(b){a(b.southWest)&&a(b.northEast)&&c(b.southWest.lat)&&c(b.southWest.lng)&&c(b.northEast.lat)&&c(b.northEast.lng)&&e.setMaxBounds(new L.LatLngBounds(new L.LatLng(b.southWest.lat,b.southWest.lng),new L.LatLng(b.northEast.lat,b.northEast.lng)))}):b.warn("[AngularJS - Leaflet] 'maxBounds' is defined in the current scope, but not correctly initialized.")})}}}]),angular.module("leaflet-directive").service("leafletData",["$log","$q",function(b,c){function d(b,d){a(d)||(d="main");var e;return a(b[d])?e=b[d]:(e=c.defer(),b[d]=e),e}var e={main:c.defer()},f={main:c.defer()},g={main:c.defer()},h={main:c.defer()},i={main:c.defer()},j={};this.setMap=function(a,b){var c=d(e,b);c.resolve(a)},this.getMap=function(a){var b=d(e,a);return b.promise},this.getDefaults=function(){return j},this.setDefaults=function(a){j=a},this.getPaths=function(a){var b=d(h,a);return b.promise},this.setPaths=function(a,b){var c=d(h,b);c.resolve(a)},this.getMarkers=function(a){var b=d(i,a);return b.promise},this.setMarkers=function(a,b){var c=d(i,b);c.resolve(a)},this.getLayers=function(a){var b=d(g,a);return b.promise},this.setLayers=function(a,b){var c=d(g,b);c.resolve(a)},this.setTiles=function(a,b){var c=d(f,b);c.resolve(a)},this.getTiles=function(a){var b=d(f,a);return b.promise}}])}(),angular.module("angularLocalStorage",["ngCookies"]).factory("storage",["$parse","$cookieStore","$window","$log",function(a,b,c,d){var e="undefined"==typeof c.localStorage?void 0:c.localStorage,f=!("undefined"==typeof e||"undefined"==typeof c.JSON),g={parseValue:function(a){var b;try{b=c.JSON.parse(a),"undefined"==typeof b&&(b=a),"true"===b&&(b=!0),"false"===b&&(b=!1),c.parseFloat(b)!==b||angular.isObject(b)||(b=c.parseFloat(b))}catch(d){b=a}return b}},h={set:function(a,h){if(!f)try{return b.put(a,h),h}catch(i){d.log("Local Storage not supported, make sure you have angular-cookies enabled.")}var j=c.JSON.stringify(h);return e.setItem(a,j),g.parseValue(j)},get:function(a){if(!f)try{return g.parseValue($.cookie(a))}catch(b){return null}var c=e.getItem(a);return g.parseValue(c)},remove:function(a){if(!f)try{return b.remove(a),!0}catch(c){return!1}return e.removeItem(a),!0},bind:function(b,c,d){var e={defaultValue:"",storeName:""};d=angular.isString(d)?angular.extend({},e,{defaultValue:d}):angular.isUndefined(d)?e:angular.extend(e,d);var f=d.storeName||c;return h.get(f)||h.set(f,d.defaultValue),a(c).assign(b,h.get(f)),b.$watch(c,function(a){angular.isDefined(a)&&h.set(f,a)},!0),h.get(f)},unbind:function(b,c,d){d=d||c,a(c).assign(b,null),b.$watch(c,function(){}),h.remove(d)},clearAll:function(){e.clear()}};return h}]),angular.module("audioPlayer",[]).directive("audioPlayer",["$rootScope","$log","$interpolate","$timeout","throttle",function(a,b,c,d,e){var f=function(a,b,c,d){return this instanceof f?(d=d||{},c=c||[],angular.extend(this,{_element:a,_audioTag:a[0],_scope:b,_playlist:c,name:d.name||"audioplayer",playing:!1,currentTrack:0,tracks:c.length,volume:a[0].volume,muted:a[0].muted,duration:a[0].duration,currentTime:a[0].currentTime,buffered:a[0].buffered,played:a[0].played,seekable:a[0].seekable,formatDuration:"",formatTime:"",loadPercent:0,position:a[0].currentTime}),this._unbindListeners=this._bindListeners(b),void 0):new f(a,b,c,d)};return f.prototype={load:function(a,b){if("boolean"==typeof a?(b=a,a=null):"object"==typeof a&&(this._clearAudioList(),this._addAudioList(a)),this._scope.$emit(this.name+":load",b),this._audioTag.load(),b){var c=this;c._element.bind("canplaythrough",function(){c.play(),c._element.unbind("canplaythrough")})}},play:function(a){return this._playlist.length>a?(this.currentTrack=a+1,this.load(this._playlist[a],!0)):(!this.currentTrack&&this._audioTag.readyState&&this.currentTrack++,this._audioTag.play(),void 0)},playPause:function(a){"number"==typeof a&&a+1!==this.currentTrack?this.play(a):this.playing?this.pause():this.play()
},pause:function(){this._audioTag.pause()},toggleMute:function(){this.muted=this._audioTag.muted=!this._audioTag.muted},next:function(a){var b=this;if(b.currentTrack&&b.currentTrack<b.tracks){var c=a||b.playing;b.pause(),d(function(){b._clearAudioList(),b._addAudioList(b._playlist[b.currentTrack]),b.load(c),b.currentTrack++})}},prev:function(a){var b=this;if(b.currentTrack&&b.currentTrack-1){var c=a||b.playing;b.pause(),d(function(){b._clearAudioList(),b._addAudioList(b._playlist[b.currentTrack-2]),b.load(c),b.currentTrack--})}},_addAudioList:function(a){var b=this;if(angular.isArray(a))angular.forEach(a,function(a){var d=angular.element(c('<source src="{{ src }}" type="{{ type }}" media="{{ media }}">')(a));b._element.append(d)});else if(angular.isObject(a)){var d=angular.element(c('<source src="{{ src }}" type="{{ type }}" media="{{ media }}">')(a));b._element.append(d)}},_clearAudioList:function(){this._element.contents().remove()},_formatTime:function(a){var b,c=parseInt(a/3600,10)%24,d=parseInt(a/60,10)%60,e=parseInt(a%60,10),f=(10>d?"0"+d:d)+":"+(10>e?"0"+e:e);return b=c>0?(10>c?"0"+c:c)+":"+f:f},_bindListeners:function(a){var b=this,c=this._element,d=e(1e3,!1,function(){a.$apply(function(){b.currentTime=b.position=b._audioTag.currentTime,b.formatTime=b._formatTime(b.currentTime)})}),f=function(c){return function(){a.$apply(function(){b.playing=c}),c?a.$emit(b.name+":play",b.currentTrack-1):a.$emit(b.name+":pause")}},g=function(){a.$apply(function(){b.currentTrack||b.currentTrack++,b.duration=b._audioTag.duration,b.formatDuration=b._formatTime(b.duration),b.loadPercent=parseInt(100*(b._audioTag.buffered.end(b._audioTag.buffered.length-1)/b.duration),10)})},h=function(){b.next(!0)},i=function(){b._audioTag.buffered.length&&a.$apply(function(){b.loadPercent=parseInt(100*(b._audioTag.buffered.end(b._audioTag.buffered.length-1)/b.duration),10)})};return c.bind("playing",f(!0)),c.bind("pause",f(!1)),c.bind("ended",h),c.bind("timeupdate",d),c.bind("loadedmetadata",g),c.bind("progress",i),function(){c.unbind("playing"),c.unbind("pause"),c.unbind("ended"),c.unbind("timeupdate"),c.unbind("loadedmetadata"),c.unbind("progress")}}},{scope:{exposedPlayer:"=playerControl",playlist:"=playlist"},link:function(a,c){if("AUDIO"!==c[0].tagName)return b.error("audioPlayer directive works only when attached to an <audio> type tag");var e=[],g=c.find("source"),h=a.playlist||[];angular.forEach(g,function(a){e.push({src:a.src,type:a.type,media:a.media})}),e.length&&h.unshift(e),a.exposedPlayer=new f(c,a,h),a.$watch("playlist",function(c,e){var f,g=a.exposedPlayer,h=null;if(void 0===c)return void 0!==e?(g.pause(),b.debug("playlist was deleted from scope, pausing and returning")):b.error("if you use playlist attribute, you need $scope.playlistVariable = []; in your code");if(g.currentTrack){f=e?e[g.currentTrack-1]:-1;for(var i=0;i<c.length;i++)if(angular.equals(c[i],f)){h=i;break}null!==h?(g.currentTrack=h+1,g.tracks=c.length):(g.pause(),c.length&&d(function(){g._clearAudioList(),g._addAudioList(c[0]),g.load(),g.tracks=c.length}))}else c.length&&(g._clearAudioList(),g._addAudioList(c[0]),g.load(),g.tracks=c.length)},!0),a.$on("$destroy",function(){a.exposedPlayer._unbindListeners()})}}}]),angular.module("audioPlayer").factory("throttle",["$timeout",function(a){return function(b,c,d,e){var f,g=0;"boolean"!=typeof c&&(e=d,d=c,c=void 0);var h=function(){var h=this,i=+new Date-g,j=arguments,k=function(){g=+new Date,d.apply(h,j)},l=function(){f=void 0};e&&!f&&k(),f&&a.cancel(f),void 0===e&&i>b?k():c!==!0&&(f=a(e?l:k,void 0===e?b-i:b))};return h}}]),angular.module("audioPlayer").factory("throttle",["$timeout",function(a){return function(b,c,d,e){var f,g=0;"boolean"!=typeof c&&(e=d,d=c,c=void 0);var h=function(){var h=this,i=+new Date-g,j=arguments,k=function(){g=+new Date,d.apply(h,j)},l=function(){f=void 0};e&&!f&&k(),f&&a.cancel(f),void 0===e&&i>b?k():c!==!0&&(f=a(e?l:k,void 0===e?b-i:b))};return h}}]),angular.module("angular-md5",[]).factory("md5",[function(){var a={createHash:function(a){var b,c,d,e,f,g,h,i,j,k,l=function(a,b){return a<<b|a>>>32-b},m=function(a,b){var c,d,e,f,g;return e=2147483648&a,f=2147483648&b,c=1073741824&a,d=1073741824&b,g=(1073741823&a)+(1073741823&b),c&d?2147483648^g^e^f:c|d?1073741824&g?3221225472^g^e^f:1073741824^g^e^f:g^e^f},n=function(a,b,c){return a&b|~a&c},o=function(a,b,c){return a&c|b&~c},p=function(a,b,c){return a^b^c},q=function(a,b,c){return b^(a|~c)},r=function(a,b,c,d,e,f,g){return a=m(a,m(m(n(b,c,d),e),g)),m(l(a,f),b)},s=function(a,b,c,d,e,f,g){return a=m(a,m(m(o(b,c,d),e),g)),m(l(a,f),b)},t=function(a,b,c,d,e,f,g){return a=m(a,m(m(p(b,c,d),e),g)),m(l(a,f),b)},u=function(a,b,c,d,e,f,g){return a=m(a,m(m(q(b,c,d),e),g)),m(l(a,f),b)},v=function(a){for(var b,c=a.length,d=c+8,e=(d-d%64)/64,f=16*(e+1),g=new Array(f-1),h=0,i=0;c>i;)b=(i-i%4)/4,h=8*(i%4),g[b]=g[b]|a.charCodeAt(i)<<h,i++;return b=(i-i%4)/4,h=8*(i%4),g[b]=g[b]|128<<h,g[f-2]=c<<3,g[f-1]=c>>>29,g},w=function(a){var b,c,d="",e="";for(c=0;3>=c;c++)b=255&a>>>8*c,e="0"+b.toString(16),d+=e.substr(e.length-2,2);return d},x=[],y=7,z=12,A=17,B=22,C=5,D=9,E=14,F=20,G=4,H=11,I=16,J=23,K=6,L=10,M=15,N=21;for(x=v(a),h=1732584193,i=4023233417,j=2562383102,k=271733878,b=x.length,c=0;b>c;c+=16)d=h,e=i,f=j,g=k,h=r(h,i,j,k,x[c+0],y,3614090360),k=r(k,h,i,j,x[c+1],z,3905402710),j=r(j,k,h,i,x[c+2],A,606105819),i=r(i,j,k,h,x[c+3],B,3250441966),h=r(h,i,j,k,x[c+4],y,4118548399),k=r(k,h,i,j,x[c+5],z,1200080426),j=r(j,k,h,i,x[c+6],A,2821735955),i=r(i,j,k,h,x[c+7],B,4249261313),h=r(h,i,j,k,x[c+8],y,1770035416),k=r(k,h,i,j,x[c+9],z,2336552879),j=r(j,k,h,i,x[c+10],A,4294925233),i=r(i,j,k,h,x[c+11],B,2304563134),h=r(h,i,j,k,x[c+12],y,1804603682),k=r(k,h,i,j,x[c+13],z,4254626195),j=r(j,k,h,i,x[c+14],A,2792965006),i=r(i,j,k,h,x[c+15],B,1236535329),h=s(h,i,j,k,x[c+1],C,4129170786),k=s(k,h,i,j,x[c+6],D,3225465664),j=s(j,k,h,i,x[c+11],E,643717713),i=s(i,j,k,h,x[c+0],F,3921069994),h=s(h,i,j,k,x[c+5],C,3593408605),k=s(k,h,i,j,x[c+10],D,38016083),j=s(j,k,h,i,x[c+15],E,3634488961),i=s(i,j,k,h,x[c+4],F,3889429448),h=s(h,i,j,k,x[c+9],C,568446438),k=s(k,h,i,j,x[c+14],D,3275163606),j=s(j,k,h,i,x[c+3],E,4107603335),i=s(i,j,k,h,x[c+8],F,1163531501),h=s(h,i,j,k,x[c+13],C,2850285829),k=s(k,h,i,j,x[c+2],D,4243563512),j=s(j,k,h,i,x[c+7],E,1735328473),i=s(i,j,k,h,x[c+12],F,2368359562),h=t(h,i,j,k,x[c+5],G,4294588738),k=t(k,h,i,j,x[c+8],H,2272392833),j=t(j,k,h,i,x[c+11],I,1839030562),i=t(i,j,k,h,x[c+14],J,4259657740),h=t(h,i,j,k,x[c+1],G,2763975236),k=t(k,h,i,j,x[c+4],H,1272893353),j=t(j,k,h,i,x[c+7],I,4139469664),i=t(i,j,k,h,x[c+10],J,3200236656),h=t(h,i,j,k,x[c+13],G,681279174),k=t(k,h,i,j,x[c+0],H,3936430074),j=t(j,k,h,i,x[c+3],I,3572445317),i=t(i,j,k,h,x[c+6],J,76029189),h=t(h,i,j,k,x[c+9],G,3654602809),k=t(k,h,i,j,x[c+12],H,3873151461),j=t(j,k,h,i,x[c+15],I,530742520),i=t(i,j,k,h,x[c+2],J,3299628645),h=u(h,i,j,k,x[c+0],K,4096336452),k=u(k,h,i,j,x[c+7],L,1126891415),j=u(j,k,h,i,x[c+14],M,2878612391),i=u(i,j,k,h,x[c+5],N,4237533241),h=u(h,i,j,k,x[c+12],K,1700485571),k=u(k,h,i,j,x[c+3],L,2399980690),j=u(j,k,h,i,x[c+10],M,4293915773),i=u(i,j,k,h,x[c+1],N,2240044497),h=u(h,i,j,k,x[c+8],K,1873313359),k=u(k,h,i,j,x[c+15],L,4264355552),j=u(j,k,h,i,x[c+6],M,2734768916),i=u(i,j,k,h,x[c+13],N,1309151649),h=u(h,i,j,k,x[c+4],K,4149444226),k=u(k,h,i,j,x[c+11],L,3174756917),j=u(j,k,h,i,x[c+2],M,718787259),i=u(i,j,k,h,x[c+9],N,3951481745),h=m(h,d),i=m(i,e),j=m(j,f),k=m(k,g);var O=w(h)+w(i)+w(j)+w(k);return O.toLowerCase()}};return a}]).filter("gravatar",["md5",function(a){return function(b){return b?a.createHash(b.toLowerCase()):""}}]);